<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>HTML5上传文件</title>
    <script type="text/javascript">
    /*文件系统请求标识*/
    window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;
    var fs = null;
    var msg = "";
    if (window.requestFileSystem) {
        initFs();
    }

    function initFs() {
        window.requestFileSystem(window.TEMPORARY, 1024 * 10, function(filesystem) {
            fs = filesystem;
            document.getElementById("result").innerHTML = "当前浏览器可以操作";
        }, erroHandler);
    }

    function erroHandler(e) {
        switch (e.code) {
            case FileError.NOT_FOUND_ERR:
                msg = "未找到文件或目录";
                break;
            case FileError.SECURITY_ERR:
                msg = "操作不当引起的安全性错误";
                break;
        };
        document.getElementById("result").innerHTML = "当前印发的错误" + msg;
    }
    </script>
</head>

<body>
    <output id="result"></output>
</body>

</html>
